# demo

This demonstration Makefile installs:

1. `src/lancet-2`,
1. `src/castle-3`, and
1. `big-ugly` generated by `gen_big_ugly.sh`.

Link this directory to `~/.zmm/dotfiles/demo`:

```
$ mkdir -p ~/.zmm/dotfiles
$ ln -s "$(pwd)" ~/.zmm/dotfiles/demo
```

Initialize zmm repository and create `~/.zmm/home.git`:

```
$ zmm init
```

List demo package files:

```
$ zmm files demo
/home/kurubushi/.zmm-demo/lancet-2
/home/kurubushi/.zmm-demo/big-ugly
/home/kurubushi/.zmm-demo/castle-3
```

zmm returns three files to be installed (but not installed yet).

Install the files:

```
$ zmm install demo
install -d /home/kurubushi/.zmm-demo 
install -m 644 src/* /home/kurubushi/.zmm-demo
install -m 644 big-ugly /home/kurubushi/.zmm-demo
[master (root-commit) 225f455] :package: update demo config
 3 files changed, 4 insertions(+)
 create mode 100644 .zmm-demo/big-ugly
 create mode 100644 .zmm-demo/castle-3
 create mode 100644 .zmm-demo/lancet-2
```

zmm install three files and commit to the Git repository. You can check:

```
$ zmm git log --stat
commit 225f4557f02960822c8b45415285ab7f2b4f4b60 (HEAD -> master)
Author: kurubushi <krbshi@gmail.com>
Date:   Wed Feb 5 17:28:15 2025 +0900

    :package: update demo config

 .zmm-demo/big-ugly | 1 +
 .zmm-demo/castle-3 | 2 ++
 .zmm-demo/lancet-2 | 1 +
 3 files changed, 4 insertions(+)
```

If you have same path files already, zmm stops installing:

```
$ zmm install demo
Untracked file exists: /home/kurubushi/.zmm-demo/big-ugly
```

You can store the existing files before installing:

```
$ zmm store demo
[master (root-commit) caaf464] :package: store original demo config
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 .zmm-demo/big-ugly
```

TODO: Clean up demo files
